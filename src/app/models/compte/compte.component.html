<div class="container-fluid page">
    <div class="col-2">
        <app-vertical-nav></app-vertical-nav>
    </div>
    <div class="col-10 page-content">
        <div class="blocTitle">
            <div class="title">
                <p>Comptes</p>
            </div>
            <div class="bloc-btnNewAcount">
                <button type="button" (click)="newCompte()" class="btnNewAcount btn btn-light">Ajouter un
                    compte</button>
            </div>
        </div>
        <div>
            <div class="gradient-custom-1 h-100">
                <div class="mask d-flex align-items-center h-100">
                    <div class="col-12">
                        <div class="col-5 bloc-selectAction">
                            <div class="col selectAction">
                                <div class="selectAction-input">
                                    <select class="form-select" [(ngModel)]="action"
                                        aria-label="Default select example">
                                        <option  [disabled]="true" value="">Actions groupées</option>
                                        <option value="DELETE">Supprimer</option>
                                    </select>
                                </div>
                                <div class="d-grid gap-2">
                                    <button type="button" (click)="actionUser(action)"
                                        class="btnNewAcount btn btn-light">Appliquer</button>
                                </div>
                            </div>
                            <div class="col selectAction">
                                <div class="selectAction-input">
                                    <select class="form-select" [(ngModel)]="role">
                                        <option  [disabled]="true" value="">Changer de role pour ..</option>
                                        <option value="ADMIN">Admin</option>
                                        <option value="ANIMATEUR">Animateur</option>
                                    </select>
                                </div>
                                <div class="d-grid gap-2">
                                    <button type="button" (click)="updateRole(role)"
                                        class="btnNewAcount btn btn-light">Modifier</button>
                                </div>
                            </div>
                        </div>
                        <div *ngIf="errorAction" class="alert alert-danger" role="alert">
                            Les Administrateur ne peuvent pas etre Supprimer
                        </div>
                        <div>
                            <table class="table table-striped table-bordered">
                                <thead>
                                    <tr>
                                        <th scope="col" class="checkAction"><input class="form-check-input checkUser"
                                                type="checkbox" id="flexCheckDefault" (click)="checkAll()">
                                        </th>
                                        <th scope="col">Nom</th>
                                        <th scope="col">Prenom</th>
                                        <th scope="col">E-mail</th>
                                        <th scope="col">Role</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr *ngFor="let utilisateur of listUtilisateur; let index = index">
                                        <td class="checkAction"><input class="form-check-input checkUser"
                                                type="checkbox" [(ngModel)]="utilisateur.selected"
                                                (ngModelChange)="addList(utilisateur)" id="option"></td>
                                        <td>{{utilisateur.nom}}</td>
                                        <td>{{utilisateur.prenom}}</td>
                                        <td>{{utilisateur.mail}}</td>
                                        <td>{{utilisateur.role}}</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        <div class="col-5 bloc-selectAction">
                            <div class="col selectAction">
                                <div class="selectAction-input">
                                    <select class="form-select" [(ngModel)]="action"
                                        aria-label="Default select example">
                                        <option  [disabled]="true" value="">Actions groupées</option>
                                        <option value="DELETE">Supprimer</option>
                                    </select>
                                </div>
                                <div class="d-grid gap-2">
                                    <button type="button" (click)="actionUser(action)"
                                        class="btnNewAcount btn btn-light">Appliquer</button>
                                </div>
                            </div>
                            <div class="col selectAction">
                                <div class="selectAction-input">
                                    <select class="form-select" [(ngModel)]="role" aria-label="Default select example">
                                        <option value="" [disabled]="true">Changer de role pour ..</option>
                                        <option value="ADMIN">Admin</option>
                                        <option value="ANIMATEUR">Animateur</option>
                                    </select>
                                </div>
                                <div class="d-grid gap-2">
                                    <button type="button" class="btnNewAcount btn btn-light">Modifier</button>
                                </div>
                            </div>
                        </div>
                        <div *ngIf="errorAction" class="alert alert-danger" role="alert">
                            Les Administrateur ne peuvent pas etre Supprimer
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>